<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Analysis (Synduce.Lang.Analysis)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">Synduce</a> &#x00BB; <a href="../index.html">Lang</a> &#x00BB; Analysis</nav><h1>Module <code>Lang.Analysis</code></h1></header><dl><dt class="spec value" id="val-vars_of_pattern"><a href="#val-vars_of_pattern" class="anchor"></a><code><span class="keyword">val</span> vars_of_pattern : <a href="../Term/index.html#type-pattern">Term.pattern</a> <span>&#45;&gt;</span> <a href="../Term/VarSet/index.html#type-t">Term.VarSet.t</a></code></dt><dt class="spec value" id="val-free_variables"><a href="#val-free_variables" class="anchor"></a><code><span class="keyword">val</span> free_variables : <span>?&#8288;include_functions:bool</span> <span>&#45;&gt;</span> <a href="../Term/index.html#type-term">Term.term</a> <span>&#45;&gt;</span> <a href="../Term/VarSet/index.html#type-t">Term.VarSet.t</a></code></dt><dt class="spec value" id="val-has_ite"><a href="#val-has_ite" class="anchor"></a><code><span class="keyword">val</span> has_ite : <a href="../Term/index.html#type-term">Term.term</a> <span>&#45;&gt;</span> Base.bool</code></dt><dt class="spec value" id="val-has_calls"><a href="#val-has_calls" class="anchor"></a><code><span class="keyword">val</span> has_calls : <span>_to:<a href="../Term/VarSet/index.html#type-t">Term.VarSet.t</a></span> <span>&#45;&gt;</span> <a href="../Term/index.html#type-term">Term.term</a> <span>&#45;&gt;</span> Base.bool</code></dt><dt class="spec value" id="val-operators_of"><a href="#val-operators_of" class="anchor"></a><code><span class="keyword">val</span> operators_of : <a href="../Term/index.html#type-term">Term.term</a> <span>&#45;&gt;</span> <a href="../Term/OpSet/index.html#type-t">Term.OpSet.t</a></code></dt><dt class="spec value" id="val-is_constant"><a href="#val-is_constant" class="anchor"></a><code><span class="keyword">val</span> is_constant : <a href="../Term/index.html#type-term">Term.term</a> <span>&#45;&gt;</span> Base.bool</code></dt><dt class="spec value" id="val-is_norec"><a href="#val-is_norec" class="anchor"></a><code><span class="keyword">val</span> is_norec : <a href="../Term/index.html#type-term">Term.term</a> <span>&#45;&gt;</span> Base.bool</code></dt><dt class="spec value" id="val-is_novariant"><a href="#val-is_novariant" class="anchor"></a><code><span class="keyword">val</span> is_novariant : <a href="../Term/index.html#type-term">Term.term</a> <span>&#45;&gt;</span> Base.bool</code></dt><dd><p>A term has no variant if it is a variable and the type of that variable has no variants. This means that term cannot be expanded.</p></dd></dl><dl><dt class="spec value" id="val-is_bounded"><a href="#val-is_bounded" class="anchor"></a><code><span class="keyword">val</span> is_bounded : <a href="../Term/index.html#type-term">Term.term</a> <span>&#45;&gt;</span> Base.bool</code></dt><dt class="spec value" id="val-subst_args"><a href="#val-subst_args" class="anchor"></a><code><span class="keyword">val</span> subst_args : <span><a href="../Term/index.html#type-fpattern">Term.fpattern</a> Base.list</span> <span>&#45;&gt;</span> <span><a href="../Term/index.html#type-term">Term.term</a> Base.list</span> <span>&#45;&gt;</span> <span><span><span>(<a href="../Term/index.html#type-term">Term.term</a> * <a href="../Term/index.html#type-term">Term.term</a>)</span> Base.list</span> Base.option</span></code></dt><dt class="spec value" id="val-replace_calls_to"><a href="#val-replace_calls_to" class="anchor"></a><code><span class="keyword">val</span> replace_calls_to : <a href="../Term/VarSet/index.html#type-t">Term.VarSet.t</a> <span>&#45;&gt;</span> <a href="../Term/index.html#type-term">Term.term</a> <span>&#45;&gt;</span> <a href="../Term/index.html#type-term">Term.term</a></code></dt><dt class="spec value" id="val-apply_projections"><a href="#val-apply_projections" class="anchor"></a><code><span class="keyword">val</span> apply_projections : <span><span>(Base.int, <span><a href="../Term/index.html#type-variable">Term.variable</a> Base.list</span>, Base.Int.comparator_witness)</span> Base.Map.t</span> <span>&#45;&gt;</span> <a href="../Term/index.html#type-term">Term.term</a> <span>&#45;&gt;</span> <a href="../Term/index.html#type-term">Term.term</a></code></dt><dt class="spec value" id="val-replace_id_calls"><a href="#val-replace_id_calls" class="anchor"></a><code><span class="keyword">val</span> replace_id_calls : <span>func:<a href="../Term/index.html#type-variable">Term.variable</a></span> <span>&#45;&gt;</span> <a href="../Term/index.html#type-term">Term.term</a> <span>&#45;&gt;</span> <a href="../Term/index.html#type-term">Term.term</a></code></dt><dt class="spec value" id="val-unify"><a href="#val-unify" class="anchor"></a><code><span class="keyword">val</span> unify : <span><a href="../Term/index.html#type-term">Term.term</a> Base.list</span> <span>&#45;&gt;</span> <span><a href="../Term/index.html#type-term">Term.term</a> Base.option</span></code></dt><dt class="spec value" id="val-matches"><a href="#val-matches" class="anchor"></a><code><span class="keyword">val</span> matches : <span>?&#8288;boundvars:<span><span>(<a href="../../Lang__Term/Variable/index.html#type-t">Lang__Term.Variable.t</a>, <a href="../../Lang__Term/Variable/index.html#type-comparator_witness">Lang__Term.Variable.comparator_witness</a>)</span> Base.Set.t</span></span> <span>&#45;&gt;</span> <a href="../Term/index.html#type-term">Term.term</a> <span>&#45;&gt;</span> <span>pattern:<a href="../Term/index.html#type-term">Term.term</a></span> <span>&#45;&gt;</span> <span><span><a href="../Term/index.html#type-term">Term.term</a> <a href="../Term/VarMap/index.html#type-t">Term.VarMap.t</a></span> Base.option</span></code></dt><dd><p><code>matches ~boundvars ~pattern t</code> returns a map from variables in <code>pattern</code> to subterms of <code>t</code> if the term <code>t</code> matches the <code>pattern</code>. During the matching process the variables in <code>boundvars</code> cannot be substituted in the pattern.</p></dd></dl><dl><dt class="spec value" id="val-matches_subpattern"><a href="#val-matches_subpattern" class="anchor"></a><code><span class="keyword">val</span> matches_subpattern : <span>?&#8288;boundvars:<span><span>(<a href="../../Lang__Term/Variable/index.html#type-t">Lang__Term.Variable.t</a>, <a href="../../Lang__Term/Variable/index.html#type-comparator_witness">Lang__Term.Variable.comparator_witness</a>)</span> Base.Set.t</span></span> <span>&#45;&gt;</span> <a href="../Term/index.html#type-term">Term.term</a> <span>&#45;&gt;</span> <span>pattern:<a href="../Term/index.html#type-term">Term.term</a></span> <span>&#45;&gt;</span> <span><span>(<a href="../Term/index.html#type-term">Term.term</a> * <span><span>(<a href="../Term/index.html#type-term">Term.term</a> * <a href="../Term/index.html#type-term">Term.term</a>)</span> Base.list</span> * <a href="../Term/VarSet/index.html#type-t">Term.VarSet.t</a>)</span> Base.option</span></code></dt><dd><p><code>matches_subpattern ~boundvars t ~pattern</code> returns some triple <code>t', subs, vs</code> when some sub-pattern of <code>pattern</code> matches <code>t</code>.</p></dd></dl><dl><dt class="spec value" id="val-matches_pattern"><a href="#val-matches_pattern" class="anchor"></a><code><span class="keyword">val</span> matches_pattern : <a href="../Term/index.html#type-term">Term.term</a> <span>&#45;&gt;</span> <a href="../Term/index.html#type-pattern">Term.pattern</a> <span>&#45;&gt;</span> <span><span><a href="../Term/index.html#type-term">Term.term</a> <a href="../Term/VarMap/index.html#type-t">Term.VarMap.t</a></span> Base.option</span></code></dt><dd><p><code>matches_pattern t p</code> returns Some map if <code>t</code> matches <code>p</code>, where the map binds the variables of the pattern to the relevant subterms of <code>t</code>. If <code>t</code> does not match the pattern <code>p</code> then None is returned.</p></dd></dl><dl><dt class="spec value" id="val-skeletize"><a href="#val-skeletize" class="anchor"></a><code><span class="keyword">val</span> skeletize : <span>functions:<a href="../Term/VarSet/index.html#type-t">Term.VarSet.t</a></span> <span>&#45;&gt;</span> <a href="../Term/index.html#type-term">Term.term</a> <span>&#45;&gt;</span> <span><a href="../Term/index.html#type-term">Term.term</a> <a href="../Term/VarMap/index.html#type-t">Term.VarMap.t</a></span> * <a href="../Term/index.html#type-term">Term.term</a></code></dt><dd><p><code>skeletize ~functions t</code> returns the term t where each subterm that does not contain a call to the functions in <code>functions</code> has been reblaced by a box containing a fresh variable. Returns a pair of a boxed var-substitution list and the term with the boxes replacing the subexpressions.</p></dd></dl><dl><dt class="spec value" id="val-is_expandable_var"><a href="#val-is_expandable_var" class="anchor"></a><code><span class="keyword">val</span> is_expandable_var : <a href="../Term/index.html#type-variable">Term.variable</a> <span>&#45;&gt;</span> <span><span>(<a href="../Term/index.html#type-variable">Term.variable</a> * <span><span>(Base.string * <span><a href="../RType/index.html#type-t">RType.t</a> Base.list</span>)</span> Base.list</span>)</span> option</span></code></dt><dt class="spec value" id="val-expand_once"><a href="#val-expand_once" class="anchor"></a><code><span class="keyword">val</span> expand_once : <a href="../Term/index.html#type-term">Term.term</a> <span>&#45;&gt;</span> <span><a href="../Term/index.html#type-term">Term.term</a> Base.list</span></code></dt><dt class="spec value" id="val-variant_no_recurse"><a href="#val-variant_no_recurse" class="anchor"></a><code><span class="keyword">val</span> variant_no_recurse : <span><span>(Base.string * <span><a href="../RType/index.html#type-t">RType.t</a> Base.list</span>)</span> Base.list</span> <span>&#45;&gt;</span> <span><a href="../Term/index.html#type-term">Term.term</a> Base.list</span></code></dt><dd><p>Given a list of variants, returns a list of terms that corresponds to the non-recursive constructors, with their arguments instantiated as variables.</p></dd></dl><dl><dt class="spec value" id="val-terms_of_max_depth"><a href="#val-terms_of_max_depth" class="anchor"></a><code><span class="keyword">val</span> terms_of_max_depth : Base.int <span>&#45;&gt;</span> <a href="../RType/index.html#type-t">RType.t</a> <span>&#45;&gt;</span> <span><a href="../Term/index.html#type-term">Term.term</a> Base.list</span></code></dt></dl><dl><dt class="spec type" id="type-virtual_term"><a href="#type-virtual_term" class="anchor"></a><code><span class="keyword">type</span> virtual_term</code><code> = </code><table class="variant"><tr id="type-virtual_term.VConstr" class="anchored"><td class="def constructor"><a href="#type-virtual_term.VConstr" class="anchor"></a><code>| </code><code><span class="constructor">VConstr</span> <span class="keyword">of</span> Base.string * <span><a href="index.html#type-virtual_term">virtual_term</a> Base.list</span></code></td></tr><tr id="type-virtual_term.VChoice" class="anchored"><td class="def constructor"><a href="#type-virtual_term.VChoice" class="anchor"></a><code>| </code><code><span class="constructor">VChoice</span> <span class="keyword">of</span> <span><a href="index.html#type-virtual_term">virtual_term</a> Base.list</span></code></td></tr><tr id="type-virtual_term.VVarLeaf" class="anchored"><td class="def constructor"><a href="#type-virtual_term.VVarLeaf" class="anchor"></a><code>| </code><code><span class="constructor">VVarLeaf</span> <span class="keyword">of</span> <a href="../Term/Variable/index.html#type-t">Term.Variable.t</a></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-pp_virtual_term"><a href="#val-pp_virtual_term" class="anchor"></a><code><span class="keyword">val</span> pp_virtual_term : <span><a href="index.html#type-virtual_term">virtual_term</a> Fmt.t</span></code></dt><dt class="spec value" id="val-virtual_variant_no_recurse"><a href="#val-virtual_variant_no_recurse" class="anchor"></a><code><span class="keyword">val</span> virtual_variant_no_recurse : <span><span>(Base.string * <span><a href="../RType/index.html#type-t">RType.t</a> Base.list</span>)</span> Base.list</span> <span>&#45;&gt;</span> <a href="index.html#type-virtual_term">virtual_term</a></code></dt><dt class="spec value" id="val-virtual_term_of_max_depth"><a href="#val-virtual_term_of_max_depth" class="anchor"></a><code><span class="keyword">val</span> virtual_term_of_max_depth : Base.int <span>&#45;&gt;</span> <a href="../RType/index.html#type-t">RType.t</a> <span>&#45;&gt;</span> <a href="index.html#type-virtual_term">virtual_term</a></code></dt><dt class="spec value" id="val-pick_some"><a href="#val-pick_some" class="anchor"></a><code><span class="keyword">val</span> pick_some : <a href="index.html#type-virtual_term">virtual_term</a> <span>&#45;&gt;</span> <span><a href="../Term/index.html#type-term">Term.term</a> Base.option</span> * <span><a href="index.html#type-virtual_term">virtual_term</a> Base.option</span></code></dt><dd><p>Pick some term in a vitual term, removing the choices made from the virtual term.</p></dd></dl><dl><dt class="spec value" id="val-_INT_MAX"><a href="#val-_INT_MAX" class="anchor"></a><code><span class="keyword">val</span> _INT_MAX : int</code></dt><dd><p>Arbitrary min and max values. Actual useful values will be generated by solvers anyway.</p></dd></dl><dl><dt class="spec value" id="val-_INT_MIN"><a href="#val-_INT_MIN" class="anchor"></a><code><span class="keyword">val</span> _INT_MIN : int</code></dt><dt class="spec value" id="val-rand_const_of_type"><a href="#val-rand_const_of_type" class="anchor"></a><code><span class="keyword">val</span> rand_const_of_type : <a href="../RType/index.html#type-t">RType.t</a> <span>&#45;&gt;</span> <a href="../Term/index.html#type-term">Term.term</a></code></dt><dt class="spec value" id="val-concretize"><a href="#val-concretize" class="anchor"></a><code><span class="keyword">val</span> concretize : <span>?&#8288;model:<span><span>(Base.String.t, <a href="../Term/index.html#type-term">Term.term</a>, Base.String.comparator_witness)</span> Base.Map.t</span></span> <span>&#45;&gt;</span> <a href="../Term/index.html#type-term">Term.term</a> <span>&#45;&gt;</span> <a href="../Term/index.html#type-term">Term.term</a></code></dt></dl></div></body></html>